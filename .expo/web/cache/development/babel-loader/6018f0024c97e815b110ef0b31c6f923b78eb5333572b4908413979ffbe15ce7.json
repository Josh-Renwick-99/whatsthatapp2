{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, useSyncExternalStore } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { Icon } from '@rneui/themed';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { getContacts, getUserInfo, addMemberToChat, postChatMessage, getChatDetails, deleteMemberFromChat } from \"../util/Client\";\nimport ContactList from \"../components/ContactList\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  width = _Dimensions$get.width,\n  height = _Dimensions$get.height;\nexport default function ChatScreen1(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    messageArray = _route$params.messageArray,\n    membersArray = _route$params.membersArray,\n    chat = _route$params.chat;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    messages = _useState2[0],\n    setMessages = _useState2[1];\n  var _useState3 = useState(membersArray),\n    _useState4 = _slicedToArray(_useState3, 2),\n    members = _useState4[0],\n    setMembers = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    inputMessage = _useState6[0],\n    setInputMessage = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    author = _useState8[0],\n    setAuthor = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    modalVisible = _useState10[0],\n    setModalVisible = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    addMemberModal = _useState12[0],\n    setAddMemberModalVisible = _useState12[1];\n  var _useState13 = useState([]),\n    _useState14 = _slicedToArray(_useState13, 2),\n    contacts = _useState14[0],\n    setContacts = _useState14[1];\n  function sendMessage() {\n    if (inputMessage === '') {\n      return setInputMessage('');\n    }\n    var updateChat = function _callee() {\n      var details;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(postChatMessage(chat, inputMessage));\n            case 2:\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(getChatDetails(chat));\n            case 4:\n              details = _context.sent;\n              updateMessages(details.messages);\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n    updateChat();\n    setInputMessage('');\n  }\n  var updateMessages = function updateMessages(m) {\n    setMessages(m);\n  };\n  var updateMembers = function updateMembers(m) {\n    setMembers(m);\n  };\n  var handleAddMember = function _callee2(id) {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(addMemberToChat(chat, id));\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  var handleRemoveMember = function _callee3(id) {\n    var currId;\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('WhatsThat_usr_id'));\n          case 2:\n            currId = _context3.sent;\n            if (!(id.toString() === currId)) {\n              _context3.next = 9;\n              break;\n            }\n            console.log(\"here\");\n            _context3.next = 7;\n            return _regeneratorRuntime.awrap(route.params.handleRemoveChat(id));\n          case 7:\n            setModalVisible(false);\n            navigation.goBack();\n          case 9:\n            _context3.next = 11;\n            return _regeneratorRuntime.awrap(deleteMemberFromChat(chat, id));\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  useEffect(function () {\n    setMessages(messageArray);\n    setMembers(membersArray);\n    var fetchAuthor = function _callee4() {\n      var userId;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"WhatsThat_usr_id\"));\n            case 2:\n              userId = _context4.sent;\n              setAuthor(userId);\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n    var fetchContacts = function _callee5() {\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.t0 = setContacts;\n              _context5.next = 3;\n              return _regeneratorRuntime.awrap(getContacts());\n            case 3:\n              _context5.t1 = _context5.sent;\n              (0, _context5.t0)(_context5.t1);\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n    fetchAuthor();\n    fetchContacts();\n  }, []);\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    var isSender = author === item.author.user_id.toString();\n    return _jsx(TouchableWithoutFeedback, {\n      children: _jsx(View, {\n        style: {\n          marginTop: 6\n        },\n        children: _jsxs(View, {\n          style: {\n            maxWidth: Dimensions.get('screen').width * 0.8,\n            backgroundColor: '#3a6ee8',\n            alignSelf: isSender ? 'flex-end' : 'flex-start',\n            marginHorizontal: 10,\n            padding: 10,\n            borderRadius: 8,\n            borderBottomLeftRadius: isSender ? 8 : 0,\n            borderBottomRightRadius: isSender ? 0 : 8\n          },\n          children: [_jsxs(Text, {\n            style: {\n              color: '#dfe4ea'\n            },\n            children: [item.author.first_name, \" \", item.author.last_name]\n          }), _jsx(Text, {\n            style: {\n              color: '#fff',\n              fontSize: 16\n            },\n            children: item.message\n          }), _jsx(Text, {\n            style: {\n              color: '#dfe4ea',\n              fontSize: 14,\n              alignSelf: 'flex-end'\n            },\n            children: item.time\n          })]\n        })\n      })\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: {\n        flex: 1,\n        marginTop: 50,\n        paddingLeft: 20,\n        height: 60,\n        paddingBottom: 15\n      },\n      children: [_jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.goBack();\n        },\n        children: _jsx(Image, {\n          style: {\n            height: 50,\n            width: 50\n          },\n          source: require(\"../assets/back-arrow.png\")\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return setModalVisible(true);\n        },\n        children: _jsx(Image, {\n          style: {\n            height: 50,\n            width: 50,\n            marginLeft: 300\n          },\n          source: require(\"../assets/info.png\")\n        })\n      })]\n    }), _jsx(View, {\n      style: {\n        height: height / 1.3,\n        paddingTop: 20,\n        marginTop: 20\n      },\n      children: _jsx(FlatList, {\n        style: {\n          backgroundColor: '#f2f2ff'\n        },\n        inverted: true,\n        data: JSON.parse(JSON.stringify(messages)),\n        renderItem: renderItem\n      })\n    }), _jsx(View, {\n      style: {\n        marginBottom: 100,\n        paddingTop: 20\n      },\n      children: _jsxs(View, {\n        style: styles.messageInputView,\n        children: [_jsx(TextInput, {\n          defaultValue: inputMessage,\n          style: styles.messageInput,\n          placeholder: \"Message\",\n          onChangeText: function onChangeText(text) {\n            return setInputMessage(text);\n          },\n          onSubmitEditing: sendMessage\n        }), _jsx(TouchableOpacity, {\n          style: styles.messageSendView,\n          onPress: sendMessage,\n          children: _jsx(Icon, {\n            name: \"send\",\n            type: \"material\"\n          })\n        })]\n      })\n    }), _jsx(InfoModal, {\n      modalVisible: modalVisible,\n      setModalVisible: setModalVisible,\n      members: members,\n      handleRemoveMember: handleRemoveMember,\n      addMemberModal: addMemberModal,\n      setAddMemberModalVisible: setAddMemberModalVisible,\n      contacts: contacts,\n      handleAddMember: handleAddMember,\n      fromAddMemberChat: true\n    })]\n  });\n}\nvar InfoModal = function InfoModal(_ref3) {\n  var modalVisible = _ref3.modalVisible,\n    setModalVisible = _ref3.setModalVisible,\n    members = _ref3.members,\n    handleRemoveMember = _ref3.handleRemoveMember,\n    handleAddMember = _ref3.handleAddMember,\n    addMemberModal = _ref3.addMemberModal,\n    setAddMemberModalVisible = _ref3.setAddMemberModalVisible,\n    contacts = _ref3.contacts,\n    fromAddMemberChat = _ref3.fromAddMemberChat;\n  var _useState15 = useState(members),\n    _useState16 = _slicedToArray(_useState15, 2),\n    chatMembers = _useState16[0],\n    setChatMembers = _useState16[1];\n  var addMember = function _callee6(item) {\n    var mList, updatedList;\n    return _regeneratorRuntime.async(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return _regeneratorRuntime.awrap(handleAddMember(item.user_id));\n          case 2:\n            mList = _toConsumableArray(chatMembers);\n            updatedList = mList.push(id);\n            setChatMembers(updatedList);\n          case 5:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  var removeMember = function _callee7(id) {\n    var mList, updatedList;\n    return _regeneratorRuntime.async(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return _regeneratorRuntime.awrap(handleRemoveMember(id));\n          case 2:\n            mList = _toConsumableArray(chatMembers);\n            updatedList = mList.filter(function (item) {\n              return item.user_id !== id;\n            });\n            setChatMembers(updatedList);\n          case 5:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  var renderItem = function renderItem(_ref4) {\n    var item = _ref4.item;\n    return _jsxs(View, {\n      style: styles.memberItem,\n      children: [_jsxs(View, {\n        style: styles.memberInfo,\n        children: [_jsxs(Text, {\n          children: [item.first_name, \" \", item.last_name]\n        }), _jsx(Text, {\n          children: item.email\n        })]\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return removeMember(item.user_id);\n        },\n        style: styles.removeMember,\n        children: _jsx(Text, {\n          children: \"Remove\"\n        })\n      })]\n    });\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(Modal, {\n      animationType: \"fade\",\n      transparent: true,\n      visible: modalVisible,\n      children: _jsx(View, {\n        style: styles.modalView,\n        children: _jsxs(View, {\n          style: styles.modalContent,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.closeButton,\n            onPress: function onPress() {\n              return setModalVisible(false);\n            },\n            children: _jsx(Image, {\n              source: require(\"../assets/back-arrow.png\"),\n              style: {\n                height: 20,\n                width: 20,\n                resizeMode: 'contain'\n              }\n            })\n          }), _jsx(Text, {\n            style: styles.modalText,\n            children: \"Members:\"\n          }), _jsx(FlatList, {\n            data: chatMembers,\n            renderItem: renderItem\n          }), _jsx(View, {\n            style: styles.modalButtonContainer,\n            children: _jsx(TouchableOpacity, {\n              style: styles.modalButton,\n              onPress: function onPress() {\n                return setAddMemberModalVisible(true);\n              },\n              children: _jsx(Text, {\n                children: \"Add member to chat\"\n              })\n            })\n          })]\n        })\n      })\n    }), _jsx(Modal, {\n      animationType: \"fade\",\n      transparent: true,\n      visible: addMemberModal,\n      onRequestClose: function onRequestClose() {\n        return setAddMemberModalVisible(false);\n      },\n      children: _jsx(View, {\n        style: styles.modalView,\n        children: _jsxs(View, {\n          style: styles.modalContent,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.closeButton,\n            onPress: function onPress() {\n              return setAddMemberModalVisible(false);\n            },\n            children: _jsx(Image, {\n              source: require(\"../assets/back-arrow.png\"),\n              style: {\n                height: 20,\n                width: 20,\n                resizeMode: 'contain'\n              }\n            })\n          }), _jsx(View, {\n            style: {\n              flex: 1,\n              width: 270\n            },\n            children: _jsx(ContactList, {\n              contacts: contacts,\n              fromAddMemberChat: fromAddMemberChat,\n              addMember: addMember\n            })\n          })]\n        })\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f2f2ff'\n  },\n  messageInputView: {\n    display: 'flex',\n    flexDirection: 'row',\n    marginHorizontal: 14,\n    backgroundColor: '#fff',\n    borderRadius: 4\n  },\n  messageInput: {\n    height: 60,\n    flex: 1,\n    paddingHorizontal: 25,\n    marginBottom: 200\n  },\n  messageSendView: {\n    paddingHorizontal: 10,\n    justifyContent: 'center'\n  },\n  modalView: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0,0,0,0.5)'\n  },\n  modalContent: {\n    backgroundColor: '#fff',\n    width: '80%',\n    height: '40%',\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center'\n  },\n  closeButton: {\n    height: 20,\n    width: 20,\n    resizeMode: 'contain',\n    alignSelf: 'flex-end'\n  },\n  modalText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginTop: 20,\n    paddingBottom: 10\n  },\n  memberItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc'\n  },\n  removeMember: {\n    backgroundColor: 'red',\n    paddingVertical: 5,\n    paddingHorizontal: 10,\n    marginLeft: 20,\n    borderRadius: 5\n  },\n  modalButtonContainer: {\n    flex: 1\n  },\n  modalButton: {\n    borderRadius: 12,\n    borderWidth: 3,\n    borderColor: 'green',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 40,\n    width: 200\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useSyncExternalStore","StyleSheet","Text","View","Image","TextInput","TouchableOpacity","TouchableWithoutFeedback","Keyboard","FlatList","Dimensions","Modal","Icon","AsyncStorage","getContacts","getUserInfo","addMemberToChat","postChatMessage","getChatDetails","deleteMemberFromChat","ContactList","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","_Dimensions$get","get","width","height","ChatScreen1","_ref","route","navigation","_route$params","params","messageArray","membersArray","chat","_useState","_useState2","_slicedToArray","messages","setMessages","_useState3","_useState4","members","setMembers","_useState5","_useState6","inputMessage","setInputMessage","_useState7","_useState8","author","setAuthor","_useState9","_useState10","modalVisible","setModalVisible","_useState11","_useState12","addMemberModal","setAddMemberModalVisible","_useState13","_useState14","contacts","setContacts","sendMessage","updateChat","_callee","details","_regeneratorRuntime","async","_callee$","_context","prev","next","awrap","sent","updateMessages","stop","Promise","m","updateMembers","handleAddMember","_callee2","id","_callee2$","_context2","handleRemoveMember","_callee3","currId","_callee3$","_context3","getItem","toString","console","log","handleRemoveChat","goBack","fetchAuthor","_callee4","userId","_callee4$","_context4","fetchContacts","_callee5","_callee5$","_context5","t0","t1","renderItem","_ref2","item","isSender","user_id","children","style","marginTop","maxWidth","backgroundColor","alignSelf","marginHorizontal","padding","borderRadius","borderBottomLeftRadius","borderBottomRightRadius","color","first_name","last_name","fontSize","message","time","styles","container","flex","paddingLeft","paddingBottom","onPress","source","require","marginLeft","paddingTop","inverted","data","JSON","parse","stringify","marginBottom","messageInputView","defaultValue","messageInput","placeholder","onChangeText","text","onSubmitEditing","messageSendView","name","type","InfoModal","fromAddMemberChat","_ref3","_useState15","_useState16","chatMembers","setChatMembers","addMember","_callee6","mList","updatedList","_callee6$","_context6","_toConsumableArray","push","removeMember","_callee7","_callee7$","_context7","filter","_ref4","memberItem","memberInfo","email","animationType","transparent","visible","modalView","modalContent","closeButton","resizeMode","modalText","modalButtonContainer","modalButton","onRequestClose","create","display","flexDirection","paddingHorizontal","justifyContent","alignItems","fontWeight","textAlign","paddingVertical","borderBottomWidth","borderBottomColor","borderWidth","borderColor"],"sources":["C:/Users/Joshua/Documents/repos/whatsthatapp2/screens/chat.js"],"sourcesContent":["import React, { useState, useEffect, useSyncExternalStore } from 'react';\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Image,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  TouchableWithoutFeedback,\r\n  Keyboard,\r\n  FlatList,\r\n  Dimensions,\r\n  Modal\r\n} from 'react-native';\r\nimport { Icon } from '@rneui/themed';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport {getContacts, getUserInfo, addMemberToChat, postChatMessage, getChatDetails, deleteMemberFromChat } from '../util/Client';\r\nimport ContactList from '../components/ContactList';\r\nconst {width, height} = Dimensions.get('window');\r\n\r\nexport default function ChatScreen1({ route, navigation }) {\r\n\r\n  const {messageArray, membersArray, chat} = route.params\r\n  const [messages, setMessages] = useState([])\r\n  const [members, setMembers] = useState(membersArray)\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [author, setAuthor] = useState('');\r\n  const [modalVisible, setModalVisible] = useState(false)\r\n  const [addMemberModal, setAddMemberModalVisible] = useState(false)\r\n  const [contacts, setContacts] = useState([]);\r\n\r\n\r\n  function sendMessage() {\r\n    if (inputMessage === '') {\r\n      return setInputMessage('');\r\n    }\r\n    const updateChat = async () => {\r\n      await postChatMessage(chat, inputMessage)\r\n      const details = await getChatDetails(chat)\r\n      updateMessages(details.messages)\r\n    }\r\n    updateChat()\r\n    setInputMessage('');\r\n  }\r\n\r\n  const updateMessages = (m) => {\r\n    setMessages(m)\r\n  }\r\n\r\n  const updateMembers = (m) => {\r\n    setMembers(m)\r\n  }\r\n\r\n  const handleAddMember = async (id) => {\r\n    await addMemberToChat(chat, id)\r\n  }\r\n\r\n  const handleRemoveMember = async (id) => {\r\n    const currId =  await AsyncStorage.getItem('WhatsThat_usr_id')\r\n    if (id.toString() === currId) {\r\n      console.log(\"here\")\r\n      await route.params.handleRemoveChat(id)\r\n      setModalVisible(false)\r\n      navigation.goBack()\r\n    }\r\n    await deleteMemberFromChat(chat, id)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setMessages(messageArray)\r\n    setMembers(membersArray)\r\n    const fetchAuthor = async () => {\r\n      const userId = await AsyncStorage.getItem(\"WhatsThat_usr_id\")\r\n      setAuthor(userId)\r\n    }\r\n    const fetchContacts = async () => {\r\n      setContacts(await getContacts())\r\n    }\r\n    fetchAuthor()\r\n    fetchContacts()\r\n  }, []);\r\n\r\n  const renderItem = ({ item }) => {\r\n    const isSender = author === item.author.user_id.toString();\r\n  \r\n    return (\r\n      <TouchableWithoutFeedback>\r\n        <View style={{ marginTop: 6 }}>\r\n          <View\r\n            style={{\r\n              maxWidth: Dimensions.get('screen').width * 0.8,\r\n              backgroundColor: '#3a6ee8',\r\n              alignSelf: isSender ? 'flex-end' : 'flex-start',\r\n              marginHorizontal: 10,\r\n              padding: 10,\r\n              borderRadius: 8,\r\n              borderBottomLeftRadius: isSender ? 8 : 0,\r\n              borderBottomRightRadius: isSender ? 0 : 8,\r\n            }}\r\n          >\r\n        <Text style={{color:'#dfe4ea'}}>{item.author.first_name} {item.author.last_name}</Text>\r\n\r\n            <Text\r\n              style={{\r\n                color: '#fff',\r\n                fontSize: 16,\r\n              }}\r\n            >\r\n              {item.message}\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                color: '#dfe4ea',\r\n                fontSize: 14,\r\n                alignSelf: 'flex-end',\r\n              }}\r\n            >\r\n              {item.time}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n      </TouchableWithoutFeedback>\r\n    );\r\n  };\r\n  \r\n  \r\n  return (\r\n      <View style={styles.container}>\r\n        <View style={{flex: 1, marginTop: 50, paddingLeft: 20, height: 60, paddingBottom: 15}}>\r\n            <TouchableOpacity onPress={() => navigation.goBack()}>\r\n                <Image style={{height:50, width: 50,}} source={require(\"../assets/back-arrow.png\")}/>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity onPress={() => setModalVisible(true)}>\r\n                <Image style={{height:50, width: 50, marginLeft: 300}} source={require(\"../assets/info.png\")}/>\r\n            </TouchableOpacity>\r\n        </View>\r\n        <View style={{ height: height / 1.3, paddingTop: 20, marginTop: 20 }}>\r\n          <FlatList\r\n            style={{ backgroundColor: '#f2f2ff' }}\r\n            inverted={true}\r\n            data={JSON.parse(JSON.stringify(messages))}\r\n            renderItem={renderItem}\r\n          />\r\n        </View>\r\n        <View style={{ marginBottom: 100, paddingTop: 20}}>\r\n          <View style={styles.messageInputView}>\r\n            <TextInput\r\n              defaultValue={inputMessage}\r\n              style={styles.messageInput}\r\n              placeholder='Message'\r\n              onChangeText={(text) => setInputMessage(text)}\r\n              onSubmitEditing={sendMessage}\r\n            />\r\n            <TouchableOpacity\r\n              style={styles.messageSendView}\r\n              onPress={sendMessage}\r\n            >\r\n              <Icon name='send' type='material' />\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <InfoModal \r\n        modalVisible={modalVisible} \r\n        setModalVisible={setModalVisible} \r\n        members={members} \r\n        handleRemoveMember={handleRemoveMember} \r\n        addMemberModal={addMemberModal} \r\n        setAddMemberModalVisible={setAddMemberModalVisible} \r\n        contacts={contacts}\r\n        handleAddMember = {handleAddMember}\r\n        fromAddMemberChat />\r\n      </View>\r\n  );\r\n}\r\n\r\nconst InfoModal = ({ modalVisible, setModalVisible, members, handleRemoveMember, handleAddMember, addMemberModal, setAddMemberModalVisible, contacts, fromAddMemberChat }) => {\r\n\r\n  const [chatMembers, setChatMembers] = useState(members)\r\n\r\n  const addMember = async (item) => {\r\n    await handleAddMember(item.user_id)\r\n    const mList = [...chatMembers]\r\n    const updatedList = mList.push(id)\r\n    setChatMembers(updatedList)\r\n  }\r\n\r\n  const removeMember = async (id) => {\r\n    await handleRemoveMember(id)\r\n    const mList = [...chatMembers]\r\n    const updatedList = mList.filter((item) => item.user_id !== id);\r\n    setChatMembers(updatedList)\r\n  }\r\n\r\n  const renderItem = ({ item }) => {\r\n    return (\r\n      <View style={styles.memberItem}>\r\n        <View style={styles.memberInfo}>\r\n          <Text>{item.first_name} {item.last_name}</Text>\r\n          <Text>{item.email}</Text>\r\n        </View>\r\n        <TouchableOpacity onPress={() => removeMember(item.user_id)} style={styles.removeMember}>\r\n          <Text>Remove</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        animationType='fade'\r\n        transparent={true}\r\n        visible={modalVisible}\r\n      >\r\n        <View style={styles.modalView}>\r\n          <View style={styles.modalContent}>\r\n            <TouchableOpacity\r\n              style={styles.closeButton}\r\n              onPress={() => setModalVisible(false)}\r\n            >\r\n              <Image source={require(\"../assets/back-arrow.png\")} style={{ height: 20, width: 20, resizeMode: 'contain' }} />\r\n            </TouchableOpacity>\r\n            <Text style={styles.modalText}>Members:</Text>\r\n            <FlatList\r\n              data={chatMembers}\r\n              renderItem={renderItem}\r\n            />\r\n            <View style={styles.modalButtonContainer}>\r\n              <TouchableOpacity style={styles.modalButton} onPress={() => setAddMemberModalVisible(true)}>\r\n                <Text>Add member to chat</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n      <Modal\r\n        animationType='fade'\r\n        transparent={true}\r\n        visible={addMemberModal}\r\n        onRequestClose={() => setAddMemberModalVisible(false)}\r\n      >\r\n        <View style={styles.modalView}>\r\n          <View style={styles.modalContent}>\r\n            <TouchableOpacity style={styles.closeButton} onPress={() => setAddMemberModalVisible(false)}>\r\n              <Image source={require(\"../assets/back-arrow.png\")} style={{ height: 20, width: 20, resizeMode: 'contain' }} />\r\n            </TouchableOpacity>\r\n            <View style={{flex: 1, width: 270,}}>\r\n              <ContactList\r\n                contacts = {contacts}\r\n                fromAddMemberChat = {fromAddMemberChat}\r\n                addMember = {addMember}\r\n              />\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f2f2ff',\r\n  },\r\n  messageInputView: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    marginHorizontal: 14,\r\n    backgroundColor: '#fff',\r\n    borderRadius: 4,\r\n  },\r\n  messageInput: {\r\n    height: 60,\r\n    flex: 1,\r\n    paddingHorizontal: 25,\r\n    marginBottom: 200,\r\n  },\r\n  messageSendView: {\r\n    paddingHorizontal: 10,\r\n    justifyContent: 'center',\r\n  },\r\n  modalView: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n  },\r\n  modalContent: {\r\n    backgroundColor: '#fff',\r\n    width: '80%',\r\n    height: '40%',\r\n    borderRadius: 10,\r\n    padding: 20,\r\n    alignItems: 'center',\r\n  },\r\n  closeButton: {\r\n    height: 20,\r\n    width: 20,\r\n    resizeMode: 'contain',\r\n    alignSelf: 'flex-end',\r\n  },\r\n  modalText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    marginTop: 20,\r\n    paddingBottom: 10\r\n  },\r\n  memberItem: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 10,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#ccc',\r\n  },\r\n  removeMember: {\r\n    backgroundColor: 'red',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 10,\r\n    marginLeft: 20,\r\n    borderRadius: 5,\r\n  },\r\n  modalButtonContainer: {\r\n    flex: 1,\r\n\r\n  },\r\n  modalButton: {\r\n    borderRadius: 12,\r\n    borderWidth: 3,\r\n    borderColor: 'green',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    height: 40,\r\n    width: 200\r\n  }\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}